@inherits LayoutComponentBase
@inject ILayoutService LayoutService

@if (Route == null)
{
    <p><em>Waiting on Layout Service...</em></p>
    return;
}

<CascadingValue Value="@Route.Sitecore">
    <Layout Route="@Route" />
</CascadingValue>

@code {
    [Parameter]
    public LayoutServiceResult Route { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Route = await LayoutService.GetRouteAsync("sitecore/api/layout/render");
    }
}
